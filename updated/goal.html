<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goal Tracker - BabyBloom AI</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/goal.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <h1>Goal Tracker</h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Weekly Goal Progress Summary -->
            <section class="weekly-summary card">
                <h3>Weekly Progress Overview</h3>
                <div class="summary-stats">
                    <div class="stat-item">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalGoals">0</div>
                            <div class="stat-label">Active Goals</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="completedGoals">0</div>
                            <div class="stat-label">Completed</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-info">
                            <div class="stat-value" id="avgProgress">0%</div>
                            <div class="stat-label">Avg Progress</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add New Goal -->
            <section class="add-goal-section card">
                <h3>Add New Weekly Goal</h3>
                <form id="addGoalForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="goalCategory">Category</label>
                            <select id="goalCategory" required>
                                <option value="">Select Category</option>
                                <option value="exercise">Exercise</option>
                                <option value="nutrition">Nutrition</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group" id="customGoalGroup" style="display: none;">
                            <label for="customGoalName">Custom Goal Name</label>
                            <input type="text" id="customGoalName" placeholder="Enter goal name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="goalDescription">Goal Description</label>
                        <textarea id="goalDescription" placeholder="Describe your weekly goal..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="goalTarget">Weekly Target (e.g., 5 days, 3 times, etc.)</label>
                        <input type="text" id="goalTarget" placeholder="e.g., 5 days per week" required>
                    </div>
                    <button type="submit" class="btn-primary">Add Goal</button>
                </form>
            </section>

            <!-- Sleep Tracker -->
            <section class="tracker-section card">
                <div class="tracker-header">
                    <h3>üò¥ Sleep Tracker</h3>
                    <label class="alarm-toggle">
                        <input type="checkbox" id="sleepAlarm" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Alarm Enabled</span>
                    </label>
                </div>
                <div class="tracker-form">
                    <div class="form-group">
                        <label for="sleepHours">Hours of Sleep</label>
                        <input type="number" id="sleepHours" min="0" max="24" step="0.5" placeholder="e.g., 7.5">
                    </div>
                    <div class="form-group">
                        <label for="sleepDate">Date</label>
                        <input type="date" id="sleepDate">
                    </div>
                    <button class="btn-primary" id="addSleepBtn">Log Sleep</button>
                </div>
                <div class="tracker-history" id="sleepHistory"></div>
            </section>

            <!-- Water Tracker -->
            <section class="tracker-section card">
                <div class="tracker-header">
                    <h3>üíß Water Tracker</h3>
                    <label class="alarm-toggle">
                        <input type="checkbox" id="waterAlarm" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">Reminder Enabled</span>
                    </label>
                </div>
                <div class="tracker-form">
                    <div class="form-group">
                        <label for="waterLiters">Water Intake (Liters)</label>
                        <input type="number" id="waterLiters" min="0" max="10" step="0.1" placeholder="e.g., 2.5">
                    </div>
                    <div class="form-group">
                        <label for="waterDate">Date</label>
                        <input type="date" id="waterDate">
                    </div>
                    <button class="btn-primary" id="addWaterBtn">Log Water</button>
                </div>
                <div class="tracker-history" id="waterHistory"></div>
            </section>

            <!-- Active Goals List -->
            <section class="goals-list">
                <h3>Your Active Goals</h3>
                <div id="goalsContainer"></div>
                <div id="emptyState" class="empty-state">
                    <p>No active goals yet. Add your first goal above!</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Floating AI Chat Button -->
    <button class="floating-chat-btn" onclick="window.location.href='chat.html'">
        <span class="chat-icon">üí¨</span>
    </button>

    <!-- Floating Footer Navigation -->
    <footer class="floating-footer">
        <button class="footer-btn" onclick="window.location.href='home.html'">
            <span class="footer-icon">üè†</span>
            <span class="footer-label">Home</span>
        </button>
        <button class="footer-btn active" onclick="window.location.href='goal.html'">
            <span class="footer-icon">üéØ</span>
            <span class="footer-label">Goals</span>
        </button>
        <button class="footer-btn" onclick="window.location.href='medicine.html'">
            <span class="footer-icon">üíä</span>
            <span class="footer-label">Medicine</span>
        </button>
        <button class="footer-btn" onclick="window.location.href='chat.html'">
            <span class="footer-icon">ü§ñ</span>
            <span class="footer-label">AI Chat</span>
        </button>
        <button class="footer-btn" onclick="window.location.href='risk.html'">
            <span class="footer-icon">üìä</span>
            <span class="footer-label">Risk</span>
        </button>
        <button class="footer-btn" id="profileBtn">
            <span class="footer-icon">üë§</span>
            <span class="footer-label">Profile</span>
        </button>
    </footer>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <span class="close" id="closeProfile">&times;</span>
            <h2>Profile</h2>
            <div class="profile-section">
                <div class="profile-pic-container">
                    <img id="profilePicDisplay" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100'><circle cx='50' cy='50' r='50' fill='%23667eea'/><text x='50' y='60' font-size='40' fill='white' text-anchor='middle'>üë§</text></svg>" alt="Profile">
                    <label for="profilePicInput" class="upload-btn">Change Photo</label>
                    <input type="file" id="profilePicInput" accept="image/*" style="display: none;">
                </div>
                <div class="profile-info">
                    <div class="info-item">
                        <label>Name:</label>
                        <input type="text" id="profileName" class="profile-input">
                    </div>
                    <div class="info-item">
                        <label>Email:</label>
                        <input type="email" id="profileEmail" class="profile-input" disabled>
                    </div>
                    <div class="info-item">
                        <label>Current Trimester:</label>
                        <select id="profileTrimester" class="profile-input">
                            <option value="1">First Trimester (1-12 weeks)</option>
                            <option value="2">Second Trimester (13-26 weeks)</option>
                            <option value="3">Third Trimester (27-40 weeks)</option>
                        </select>
                    </div>
                    <div class="info-item">
                        <label>Expected Due Date:</label>
                        <input type="date" id="profileDueDate" class="profile-input">
                    </div>
                </div>
            </div>
            <div class="profile-actions">
                <button class="btn-primary" id="saveProfileBtn">Save Changes</button>
                <button class="btn-danger" id="deleteAccountBtn">Delete Account</button>
                <button class="btn-secondary" id="logoutBtn">Logout</button>
            </div>
        </div>
    </div>

    <div class="blur-overlay" id="blurOverlay"></div>

    <script src="scripts/common.js"></script>
    <script src="scripts/goal.js"></script>
</body>
</html>
